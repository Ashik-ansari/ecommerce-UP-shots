<script src="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin="anonymous" />
<link href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css'>
<script src='https://stackpath.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.min.js'></script>
<style>
    body {
        background-color: #f9f9fa
    }
    
    .padding {
        padding: 3rem !important
    }
    
    .user-card-full {
        overflow: hidden
    }
    
    .card {
        border-radius: 5px;
        -webkit-box-shadow: 0 1px 20px 0 rgba(69, 90, 100, 0.08);
        box-shadow: 0 1px 20px 0 rgba(69, 90, 100, 0.08);
        border: none;
        margin-bottom: 30px
    }
    
    .m-r-0 {
        margin-right: 0px
    }
    
    .m-l-0 {
        margin-left: 0px
    }
    
    .user-card-full .user-profile {
        border-radius: 5px 0 0 5px
    }
    
    .bg-c-lite-green {
        background: -webkit-gradient(linear, left top, right top, from(#f29263), to(#ee5a6f));
        background: linear-gradient(to right, #ee5a6f, #f29263)
    }
    
    .user-profile {
        padding: 20px 0
    }
    
    .card-block {
        padding: 1.25rem
    }
    
    .m-b-25 {
        margin-bottom: 25px
    }
    
    .img-radius {
        border-radius: 50%

    }
    
    h6 {
        font-size: 14px
    }
    
    .card .card-block p {
        line-height: 25px
    }
    
    @media only screen and (min-width: 1400px) {
        p {
            font-size: 14px
        }
    }
    
    .card-block {
        padding: 1.25rem
    }
    
    .b-b-default {
        border-bottom: 1px solid #e0e0e0
    }
    
    .m-b-20 {
        margin-bottom: 20px
    }
    
    .p-b-5 {
        padding-bottom: 5px !important
    }
    
    .card .card-block p {
        line-height: 25px
    }
    
    .m-b-10 {
        margin-bottom: 10px
    }
    
    .text-muted {
        color: #919aa3 !important
        
    }
    
    .b-b-default {
        border-bottom: 1px solid #e0e0e0
    }
    
    .f-w-600 {
        font-weight: 600
    }
    
    .m-b-20 {
        margin-bottom: 20px
    }
    
    .m-t-40 {
        margin-top: 20px
    }
    
    .p-b-5 {
        padding-bottom: 5px !important
    }
    
    .m-b-10 {
        margin-bottom: 10px
    }
    
    .m-t-40 {
        margin-top: 20px
    }
    
    .user-card-full .social-link li {
        display: inline-block
    }
    
    .user-card-full .social-link li a {
        font-size: 20px;
        margin: 0 10px 0 0;
        -webkit-transition: all 0.3s ease-in-out;
        transition: all 0.3s ease-in-out
    }
    .email{
        padding-left: 20px;
    }


</style>
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Product Details | E-Shopper</title>
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/prettyPhoto.css' %}" rel="stylesheet">
    <link href="{% static 'css/price-range.css' %}" rel="stylesheet">
    <link href="{% static 'css/animate.css' %}" rel="stylesheet">
	<link href="{% static 'css/main.css' %}" rel="stylesheet">
	<link href="{% static 'css/responsive.css' %}" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]-->       
    <link rel="shortcut icon" href="images/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="{% static 'images/ico/apple-touch-icon-144-precomposed.png' %}">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="{% static 'images/ico/apple-touch-icon-114-precomposed.png' %}">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="{% static 'images/ico/apple-touch-icon-72-precomposed.png' %}">
    <link rel="apple-touch-icon-precomposed" href="{% static 'images/ico/apple-touch-icon-57-precomposed.png' %}">
</head><!--/head-->

<body>
	<header id="header"><!--header-->
		<div class="header_top"><!--header_top-->
			<div class="container">
				<div class="row">
					<div class="col-sm-6">
						
					</div>
					
				</div>
			</div>
		
			<div class="header-middle"><!--header-middle-->
				<div class="container">
					<div class="row">
						<div class="col-md-4 clearfix">
							<div class="logo pull-left">
								<a href="{% url 'index' %}"><img src="{% static 'images/home/logo.png' %}" alt="" /></a>
							</div>
							
						</div>
                        <div class="col-md-8 clearfix">
                            <div class="shop-menu clearfix pull-right">
                                <ul class="nav navbar-nav">
                                    <li><a href="{% url 'userprofile' %}"><i class="fa fa-user"></i> Account</a></li>
                                    
                                    
                                    <li><a href="{% url 'cartview' %}"><i class="fa fa-shopping-cart"></i> Cart</a></li>
                                    
                                </ul>
                            </div>
                        </div>

		
					</div>
				</div>
			</div><!--/header-middle-->
	
		
	</header><!--/header-->



    <div class="page-content page-container" id="page-content">
        <div class="padding">
            <div class="row container d-flex justify-content-center">
                <div class="col-xl-6 col-md-12">
                    <div class="card user-card-full">
                        <div class="row m-l-0 m-r-0">
                            <div class="col-sm-4 bg-c-lite-green user-profile">
                                <div class="card-block text-center text-white">
                                                                        
                                        
                                           
											<div class="col-sm-2" name="cropped_result" id="cropped_result">
                                                <div class="m-b-25">
                                                    <img src="{{myuser.imgurl4}}" id="img" name="image1"   style="width: 100px; height: 100px; border-radius: 50%;" class="img-radius" > 
                                    
                                                    <input type="file" class=""  id="imageupload" name="imageupload" onchange="imageURL()" />
                                                    
                                                
											    </div>                                             
                                            </div>
                                
                                    <h5 class="f-w-600" >{{user.first_name}}_{{user.last_name}}</h5>
                                    <p>{{user.email}}</p> <i class=" mdi mdi-square-edit-outline feather icon-edit m-t-10 f-16"></i>
                                </div>
                            </div>
                            <div class="col-sm-8">
                                <div class="card-block">
                                    <h6 class="m-b-20 p-b-5 b-b-default f-w-600">Information </h6>
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <p class="m-b-10 f-w-600">Email</p>
                                            <h6 class="text-muted f-w-400">{{user.email}}</h6>
                                        </div>
                                        <div class="col-sm-3">
                                            <p class="m-b-10 f-w-600">username</p>
                                            <h6 class="text-muted f-w-400">{{user.username}}</h6>
                                        </div>

                                        <div class="col-sm-3">
                                            <p class="m-b-10 f-w-600">welcome code</p>
                                            <h6 class="text-muted f-w-400"></h6>
                                        </div>

                                        <div class="col-sm-3">
                                            <p class="m-b-10 f-w-600">referal link</p>
                                            <h6 class="text-muted f-w-400">{{host}}/user_referal/{{user.id}}</h6>
                                        </div>
                                      
                                    </div>
                                    <h6 class="m-b-20 m-t-40 p-b-5 b-b-default f-w-600"></h6>
                                    <div class="row">
                                        <div class="col-sm-4">
                                            {% for i in address %}
                                            <p class="m-b-10 f-w-600">Address</p>
                                            
                                
                                            <h6 class="text-muted f-w-400">{{i.house_name}}</h6>
                                            <h6 class="text-muted f-w-400">{{i.town}}</h6>
                                            <h6 class="text-muted f-w-400">{{i.district}}</h6>
                                            <h6 class="text-muted f-w-400">{{i.state}}</h6>
                                            <h6 class="text-muted f-w-400">{{i.pin_code}}</h6>
                                            <h6 class="text-muted f-w-400">{{i.mobile}}</h6>
                                        </div>
                                        {% endfor %}
                                        <div class="col-sm-4">
                                            <p class="m-b-10 f-w-600">.</p>
                                            <h6 class="text-muted f-w-400"></h6>
                                        </div>
                                        <div class="col-sm-2">
                                          <a href="{% url 'userorders' %}"> <p class="m-b-10 f-w-600" style="color: darkorange;" >Orders</p></a>
                                            <h6 class="text-muted f-w-400"></h6>
                                          <a href="{% url 'editprofile' pk=user.id %}"> <p class="m-b-10 f-w-600" style="color: darkorange;">Editprofile</p></a>
                                            <h6 class="text-muted f-w-400"></h6>
                                            <a href="{% url 'addaddress' %}"> <p class="m-b-10 f-w-600" style="color: darkorange;">Addaddress</p></a>
                                            <p class="m-b-10 f-w-600"></p>
                                            <h6 class="text-muted f-w-400"></h6>
                                        </div>
                                    </div>
                                    <ul class="social-link list-unstyled m-t-40 m-b-10">
                                        <li><a href="#!" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="facebook" data-abc="true"><i class="mdi mdi-facebook feather icon-facebook facebook" aria-hidden="true"></i></a></li>
                                        <li><a href="#!" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="twitter" data-abc="true"><i class="mdi mdi-twitter feather icon-twitter twitter" aria-hidden="true"></i></a></li>
                                        <li><a href="#!" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="instagram" data-abc="true"><i class="mdi mdi-instagram feather icon-instagram instagram" aria-hidden="true"></i></a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
		


	</footer><!--/Footer-->
	

  
    <script src="{% static 'js/jquery.js' %}"></script>
	<script src="{% static 'js/price-range.js' %}"></script>
    <script src="{% static 'js/jquery.scrollUp.min.js' %}"></script>
	<script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/jquery.prettyPhoto.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

  <!--<script>
      function readURL(input){
          if (input.files && input.files[0]){
              var reader = new FileReader();
              reader.onload  = function (e) {
                  $('#img1').attr('src',e.target.result)
              };
              reader.readAsDataURL(input.files[0]);
              setTimeout(initCropper,1000);
          }
      }

</script>-->

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cropper/1.0.1/jquery-cropper.min.js" integrity="sha512-V8cSoC5qfk40d43a+VhrTEPf8G9dfWlEJgvLSiq2T2BmgGRmZzB8dGe7XAABQrWj3sEfrR5xjYICTY4eJr76QQ==" crossorigin="anonymous"></script>


<script>
    function imageURL(){
        console.log("hiii")
        var formData = new FormData();
        
        formData.append("imageupload",document.getElementById("imageupload").files[0]);
        formData.append('csrfmiddlewaretoken','{{csrf_token}}');

            $.ajax({

                url:'/addimage/',
                method:'POST',
                data:formData,
                cache:false,
                contentType:false,
                processData:false,
                dataType:'JSON',
                

                success:function(data){
                    if(data=='true'){
                        window.location.replace('/userprofile/')
                    }
                }
            })
        
    }
</script>



<script>
    var $image = $('#img');

$image.cropper({
aspectRatio: 16 / 9,
crop: function(event) {
  console.log(event.detail.x);
  console.log(event.detail.y);
  console.log(event.detail.width);
  console.log(event.detail.height);
  console.log(event.detail.rotate);
  console.log(event.detail.scaleX);
  console.log(event.detail.scaleY);
}
});

// Get the Cropper.js instance after initialized
var cropper = $image.data('cropper');


</script>

</body>
</html>

<!--<script>
    function initCropper(){
        var image=document.getElementById('img1');
        var cropper =new Cropper(image,{
            cropBoxResizable: false,
            autoCropArea: 0,
            dragCrop: true,
            dragMode: 'move',
            multiple:true,
            movable:true,
            responsive:true,

            data:{
                width: 350,
                height: 375,
            },
    crop: function(e){
        console.log(e.detail.x);
        console.log(e.detail.y);
    }
        });
        document.getElementById('crop_button').addEventListener('click', function(){
            var imageurl = cropper.getCropperCanvas().toDataURL();
            var img = document.createElement("img");
            img.src = imgurl;
            console.log($('#imageurl1').val())
            document.getElementById("cropped_result").appendChild(img);
            $('#imageurl1').val(imageurl)
            console.log($('#imageurl1').val())
            document.getElementById("cropped_result").appendChild(img);

        })
    } 
</script>-->